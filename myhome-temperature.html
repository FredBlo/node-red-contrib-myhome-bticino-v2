<script type="text/javascript">
  RED.nodes.registerType('myhome-temperature',{
    category: 'Bticino MyHome',
    color: '#a6bbcf',
    defaults: {
      zoneid: { value: '', required: true, validate: RED.validators.number() },
      topic: { value: '', required: true},
      gateway: { type:'myhome-gateway', required: true },
      name: { value:'', required: true },
      skipevents: { value: false , required: false},
      isstatusrequest: { value: false , required: false}
    },
    inputs:1,
    outputs:1,
    icon: 'font-awesome/fa-thermometer-half',
    paletteLabel: 'MH Temperature',
    label: function() {
      return this.name || 'MH Temperature';
    }
  });
</script>

<script type="text/x-red" data-template-name="myhome-temperature">
  <div class="form-row">
      <label for="node-input-zoneid"><i class="fa fa-thermometer-half"></i> Zone</label>
      <input type="text" id="node-input-zoneid" placeholder="1 (for zone A)" />
  </div>
  <div class="form-row">
      <label for="node-input-topic"><i class="fa fa-terminal"></i> Topic</label>
      <input type="text" id="node-input-topic" placeholder="e.g. firstfloor-office" />
  </div>
    <div class="form-row">
        <label for="node-input-gateway"><i class="fa fa-server"></i> Gateway</label>
        <input type="text" id="node-input-gateway" />
    </div>
    <div class="form-row">
        <label for="node-input-name"><i class="fa fa-tag"></i> Name</label>
        <input type="text" id="node-input-name" placeholder="temperature identifier" />
    </div>
    <div class="form-row">
        <label for="node-input-skipevents"><i class="fa fa-ban"></i> Skip events</label>
        <label for="node-input-skipevents" style="width:70%">
          <input type="checkbox" id="node-input-skipevents" style="display:inline-block; margin-left:0px; width:22px; vertical-align:baseline;" />Skip incoming events from gateway
          &nbsp;<i class="fa fa-info-circle" title="If necessary, all MyHome status updates received from the gateway about this node can be ignored, which means only Node-RED received payloads will be processed."></i>
        </label>
    </div>
    <div class="form-row">
        <label for="node-input-isstatusrequest"><i class="fa fa-refresh"></i> Read-only</label>
        <label for="node-input-isstatusrequest" style="width:70%">
          <input type="checkbox" id="node-input-isstatusrequest" style="display:inline-block; margin-left:0px; width:22px; vertical-align:baseline;" />Only ask for current zone status
          &nbsp;<i class="fa fa-info-circle" title="When enabled, the received payload (whatever it contains) is ignored and a status request is sent to gather current zone state without applying any change."></i>
        </label>
    </div>
</script>

<script type="text/x-red" data-help-name="myhome-commandsession">
  <p>MyHome Temperature Node to monitor a temperature-controlled zone.</p>
</script>
